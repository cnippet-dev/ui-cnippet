{
  "$schema": "https://ui.cnippet.dev/schema/registry-item.json",
  "name": "v-toast-8",
  "type": "registry:block",
  "description": "toast",
  "registryDependencies": [
    "toast"
  ],
  "files": [
    {
      "path": "registry/default/variants/v-toast-8.tsx",
      "content": "\"use client\";\r\n\r\nimport * as React from \"react\";\r\n\r\nimport { Button } from \"@/registry/default/ui/button\";\r\nimport { Spinner } from \"@/registry/default/ui/spinner\";\r\nimport { anchoredToastManager } from \"@/registry/default/ui/toast\";\r\n\r\nexport default function Particle() {\r\n  const submitRef = React.useRef<HTMLButtonElement>(null);\r\n  const [isSubmitting, setIsSubmitting] = React.useState(false);\r\n  const toastIdRef = React.useRef<string | null>(null);\r\n\r\n  function handleSubmit() {\r\n    if (!submitRef.current || isSubmitting) return;\r\n\r\n    if (toastIdRef.current) {\r\n      anchoredToastManager.close(toastIdRef.current);\r\n      toastIdRef.current = null;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n\r\n    new Promise<void>((_, reject) => {\r\n      setTimeout(() => {\r\n        setIsSubmitting(false);\r\n        reject(\r\n          new Error(\"The server is not responding. Please try again later.\"),\r\n        );\r\n      }, 2000);\r\n    }).catch((error: Error) => {\r\n      toastIdRef.current = anchoredToastManager.add({\r\n        description: error.message,\r\n        positionerProps: {\r\n          anchor: submitRef.current,\r\n          sideOffset: 4,\r\n        },\r\n        title: \"Error submitting form\",\r\n        type: \"error\",\r\n      });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Button\r\n      disabled={isSubmitting}\r\n      onClick={handleSubmit}\r\n      ref={submitRef}\r\n      variant=\"outline\"\r\n    >\r\n      {isSubmitting ? (\r\n        <>\r\n          <Spinner />\r\n          Submittingâ€¦\r\n        </>\r\n      ) : (\r\n        \"Submit\"\r\n      )}\r\n    </Button>\r\n  );\r\n}\r\n",
      "type": "registry:block"
    }
  ],
  "meta": {
    "className": ""
  },
  "categories": [
    "toast"
  ]
}